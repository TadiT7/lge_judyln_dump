<!--
1. IMS Apn : IMS
   > IWLAN & Cellular

-->

<ANDSF version="3">
  <Name>IWLAN and Cellular (230/01 CZ-TMO)</Name>
  <ISRP>
    <Node>
      <ForServiceBased>
<!--  ================IMS- IDLE================ -->
        <MAPCON_WIFI_X_n_LTE_X>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                  <ThresholdConditions>
                      <WiFiThreshold>
                          <WiFiAvailable>0</WiFiAvailable>
                      </WiFiThreshold>
                      <LTEThreshold>
                          <LTEAvailable>0</LTEAvailable>
                      </LTEThreshold>
                  </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
        </MAPCON_WIFI_X_n_LTE_X>

        <MAPCON_WIFI_X_LTE_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
        </MAPCON_WIFI_X_LTE_O_IDLE>
       
        <MAPCON_WIFI_BAD_CELLULAR_X_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
        </MAPCON_WIFI_BAD_CELLULAR_X_IDLE>
       
        <MAPCON_WIFI_BAD_LTE_X_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
        </MAPCON_WIFI_BAD_LTE_X_IDLE>

        <MAPCON_WIFI_O_CELLULAR_X_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
        </MAPCON_WIFI_O_CELLULAR_X_IDLE>

        <MAPCON_WIFI_GOOD_LTE_GOOD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
        <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>6</RulePriority>
        </MAPCON_WIFI_GOOD_LTE_GOOD_IDLE>

        <MAPCON_WIFI_BAD_LTE_GOOD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>7</RulePriority>
        </MAPCON_WIFI_BAD_LTE_GOOD_IDLE>

        <MAPCON_WIFI_GOOD_LTE_BAD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPLow>-118</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>8</RulePriority>
        </MAPCON_WIFI_GOOD_LTE_BAD_IDLE>

        <MAPCON_WIFI_BAD_LTE_BAD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPLow>-118</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>9</RulePriority>
        </MAPCON_WIFI_BAD_LTE_BAD_IDLE>

        <MAPCON_WIFI_BAD_LTE_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>10</RulePriority>
        </MAPCON_WIFI_BAD_LTE_O_IDLE>

        <MAPCON_WIFI_GOOD_LTE_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>11</RulePriority>
        </MAPCON_WIFI_GOOD_LTE_O_IDLE>

        <MAPCON_WIFI_O_LTE_X_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>12</RulePriority>
        </MAPCON_WIFI_O_LTE_X_IDLE>

        <MAPCON_WIFI_O_LTE_GOOD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>13</RulePriority>
        </MAPCON_WIFI_O_LTE_GOOD_IDLE>
 <!--  ================IMS - CONNECTED================ -->
        <MAPCON_WIFI_X_n_LTE_X>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                  <ThresholdConditions>
                      <WiFiThreshold>
                          <WiFiAvailable>0</WiFiAvailable>
                      </WiFiThreshold>
                      <LTEThreshold>
                          <LTEAvailable>0</LTEAvailable>
                      </LTEThreshold>
                  </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
        </MAPCON_WIFI_X_n_LTE_X>

        <MAPCON_WIFI_X_LTE_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPLow>-117</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
        </MAPCON_WIFI_X_LTE_O_VOICE>
        
        <MAPCON_WIFI_BAD_CELLULAR_X_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-76</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
        </MAPCON_WIFI_BAD_CELLULAR_X_VOICE>
        
        <MAPCON_WIFI_BAD_LTE_X_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-76</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
        </MAPCON_WIFI_BAD_LTE_X_VOICE>

        <MAPCON_WIFI_O_CELLULAR_X_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-80</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>		  
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
        </MAPCON_WIFI_O_CELLULAR_X_VOICE>

        <MAPCON_WIFI_BAD_LTE_GOOD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPHigh>-114</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-76</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>		  
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>7</RulePriority>
        </MAPCON_WIFI_BAD_LTE_GOOD_VOICE>

        <MAPCON_WIFI_GOOD_LTE_BAD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPLow>-115</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>		  
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>8</RulePriority>
        </MAPCON_WIFI_GOOD_LTE_BAD_VOICE>

        <MAPCON_WIFI_BAD_LTE_BAD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPLow>-115</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiRSSILow>-76</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>9</RulePriority>
        </MAPCON_WIFI_BAD_LTE_BAD_VOICE>

        <MAPCON_WIFI_BAD_LTE_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSILow>-76</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPLow>-117</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>10</RulePriority>
        </MAPCON_WIFI_BAD_LTE_O_VOICE>

        <MAPCON_WIFI_GOOD_LTE_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTERSRPLow>-117</LTERSRPLow>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>11</RulePriority>
        </MAPCON_WIFI_GOOD_LTE_O_VOICE>

        <MAPCON_WIFI_O_LTE_X_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                     <WiFiRSSILow>-80</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>12</RulePriority>
        </MAPCON_WIFI_O_LTE_X_VOICE>

        <MAPCON_WIFI_O_LTE_GOOD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <LTEThreshold>
                    <LTERSRPHigh>-114</LTERSRPHigh>
                    <LTEAvailable>1</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                     <WiFiRSSILow>-80</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>13</RulePriority>
        </MAPCON_WIFI_O_LTE_GOOD_VOICE>

 <!--  ================HOS================ -->
        <MAPCON_WIFI_X>
          <APN>HOS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
        </MAPCON_WIFI_X>

        <MAPCON_WIFI_O_CELLULAR_X>
          <APN>HOS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
        </MAPCON_WIFI_O_CELLULAR_X>

        <MAPCON_WIFI_GOOD>
          <APN>HOS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSIHigh>-75</WiFiRSSIHigh>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
        </MAPCON_WIFI_GOOD>

        <MAPCON_WIFI_BAD>
          <APN>HOS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
        </MAPCON_WIFI_BAD>
      </ForServiceBased>
    </Node>
  </ISRP>
</ANDSF>

